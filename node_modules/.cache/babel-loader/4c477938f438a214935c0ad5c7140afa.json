{"ast":null,"code":"import _objectSpread from\"G:/CODE/Development/Projects/Frontend/Digital-Krishi-Khamar/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"G:/CODE/Development/Projects/Frontend/Digital-Krishi-Khamar/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Button,Container,Row}from\"react-bootstrap\";import{useForm}from\"react-hook-form\";import{useHistory}from\"react-router-dom\";import useAuth from\"../../hooks/useAuth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SignUp=function SignUp(){var _useAuth=useAuth(),user=_useAuth.user,setUser=_useAuth.setUser,registerUser=_useAuth.registerUser,setIsLoading=_useAuth.setIsLoading,saveUser=_useAuth.saveUser;var history=useHistory();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),passError=_useState4[0],setPassError=_useState4[1];var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset;//   show user\nuseEffect(function(){// console.log(user);\n// console.log(user.email, user.displayName, user.mobile, user.nidNo);\n},[user]);var onSubmit=function onSubmit(data){//   console.log(data)\nsetError(false);setPassError(false);if(data.name===\"\"||data.email===\"\"||data.password===\"\"||data.mobile===\"\"||data.nidNo===\"\"||data.remember===\"\"){setError(true);return;}// register user with email and password\nregisterUser(data.email,data.password).then(function(result){// console.log(data);\n// console.log(data.displayName);\nsaveUser(data.email,data.name,data.mobile,data.location,data.nidNo);setUser(_objectSpread(_objectSpread({},user),{},{email:data.email,displayName:data.name,mobile:data.mobile,location:data.location,nidNo:data.nidNo,imgUrl:\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png\"}));alert(\"Registration successfull\");history.push(\"/dashboard\");// saveUser(data.name,data.email,data.mobile,data.nidNo)\n}).catch(function(err){alert(\"Error: \".concat(err.message));}).finally(setIsLoading(false));reset();};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{fluid:true,className:\"topFixedPage p-5\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Container,{className:\"regBox\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(\"form\",{noValidate:true,autoComplete:\"off\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"h3\",{className:\"signUPHeader\",children:\"SIGN UP\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"loginText\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({style:{borderRadius:\"20px\"}},register(\"name\")),{},{type:\"text\",className:\"form-control\",placeholder:\"Enter name\"}))]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"loginText\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({style:{borderRadius:\"20px\"}},register(\"email\")),{},{email:true,type:\"email\",className:\"form-control\",placeholder:\"Enter email\"}))]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"loginText\",children:\"Mobile No\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({style:{borderRadius:\"20px\"}},register(\"mobile\")),{},{type:\"text\",className:\"form-control\",placeholder:\"Enter mobile no\"}))]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"loginText\",children:\"Location\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({style:{borderRadius:\"20px\"}},register(\"location\")),{},{type:\"text\",className:\"form-control\",placeholder:\"Enter your location\"}))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"loginText\",children:\"Nid No\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({style:{borderRadius:\"20px\"}},register(\"nidNo\")),{},{type:\"text\",className:\"form-control\",placeholder:\"Enter your Nid no\"}))]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"loginText\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({style:{borderRadius:\"20px\"}},register(\"password\")),{},{type:\"password\",className:\"form-control\",placeholder:\"Enter password\"}))]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"custom-control custom-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"remember\")),{},{type:\"checkbox\",className:\"custom-control-input\",id:\"customCheck1\"})),/*#__PURE__*/_jsx(\"label\",{className:\"loginText2\",htmlFor:\"customCheck1\",children:\"Remember me\"})]})}),/*#__PURE__*/_jsx(Button,{variant:\"success\",type:\"submit\",children:\"Sign Up\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",letterSpacing:\"1px\",marginTop:\"5px\"},children:\"input fields cannot be empty\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{className:\"loginText2\",children:[\"Forgot,\",\" \",/*#__PURE__*/_jsx(\"a\",{className:\"loginText\",href:\"#\",children:\"password?\"})]})]})})})})})});};export default SignUp;","map":{"version":3,"sources":["G:/CODE/Development/Projects/Frontend/Digital-Krishi-Khamar/src/components/SignUp/SignUp.js"],"names":["React","useEffect","useState","Button","Container","Row","useForm","useHistory","useAuth","SignUp","user","setUser","registerUser","setIsLoading","saveUser","history","error","setError","passError","setPassError","register","handleSubmit","reset","onSubmit","data","name","email","password","mobile","nidNo","remember","then","result","location","displayName","imgUrl","alert","push","catch","err","message","finally","borderRadius","color","letterSpacing","marginTop"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Button, Container, Row } from \"react-bootstrap\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\n\r\nconst SignUp = () => {\r\n  const { user, setUser, registerUser, setIsLoading, saveUser } = useAuth();\r\n  const history = useHistory();\r\n  const [error, setError] = useState(false);\r\n  const [passError, setPassError] = useState(false);\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    reset,\r\n    // formState: { errors },\r\n  } = useForm();\r\n\r\n  //   show user\r\n  useEffect(() => {\r\n    // console.log(user);\r\n    // console.log(user.email, user.displayName, user.mobile, user.nidNo);\r\n  }, [user]);\r\n\r\n  const onSubmit = (data) => {\r\n    //   console.log(data)\r\n    setError(false);\r\n    setPassError(false);\r\n    if (\r\n      data.name === \"\" ||\r\n      data.email === \"\" ||\r\n      data.password === \"\" ||\r\n      data.mobile === \"\" ||\r\n      data.nidNo === \"\" ||\r\n      data.remember === \"\"\r\n    ) {\r\n      setError(true);\r\n      return;\r\n    }\r\n    // register user with email and password\r\n    registerUser(data.email, data.password)\r\n      .then((result) => {\r\n        // console.log(data);\r\n        // console.log(data.displayName);\r\n        saveUser(data.email, data.name, data.mobile, data.location, data.nidNo);\r\n        setUser({\r\n          ...user,\r\n          email: data.email,\r\n          displayName: data.name,\r\n          mobile: data.mobile,\r\n          location: data.location,\r\n          nidNo: data.nidNo,\r\n          imgUrl:\r\n            \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png\",\r\n        });\r\n        alert(\"Registration successfull\");\r\n        history.push(\"/dashboard\");\r\n\r\n        // saveUser(data.name,data.email,data.mobile,data.nidNo)\r\n      })\r\n      .catch((err) => {\r\n        alert(`Error: ${err.message}`);\r\n      })\r\n      .finally(setIsLoading(false));\r\n\r\n    reset();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Container fluid={true} className=\"topFixedPage p-5\">\r\n        <div>\r\n          <Container className=\"regBox\">\r\n            <Row>\r\n              <form\r\n                noValidate\r\n                autoComplete=\"off\"\r\n                onSubmit={handleSubmit(onSubmit)}\r\n              >\r\n                <h3 className=\"signUPHeader\">SIGN UP</h3>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"loginText\">Name</label>\r\n                  <input\r\n                    style={{ borderRadius: \"20px\" }}\r\n                    {...register(\"name\")}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Enter name\"\r\n                  />\r\n                </div>\r\n                <br />\r\n                <div className=\"form-group\">\r\n                  <label className=\"loginText\">Email</label>\r\n                  <input\r\n                    style={{ borderRadius: \"20px\" }}\r\n                    {...register(\"email\")}\r\n                    email\r\n                    type=\"email\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Enter email\"\r\n                  />\r\n                </div>\r\n                <br />\r\n                <div className=\"form-group\">\r\n                  <label className=\"loginText\">Mobile No</label>\r\n                  <input\r\n                    style={{ borderRadius: \"20px\" }}\r\n                    {...register(\"mobile\")}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Enter mobile no\"\r\n                  />\r\n                </div>\r\n                <br />\r\n                <div className=\"form-group\">\r\n                  <label className=\"loginText\">Location</label>\r\n                  <input\r\n                    style={{ borderRadius: \"20px\" }}\r\n                    {...register(\"location\")}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Enter your location\"\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label className=\"loginText\">Nid No</label>\r\n                  <input\r\n                    style={{ borderRadius: \"20px\" }}\r\n                    {...register(\"nidNo\")}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Enter your Nid no\"\r\n                  />\r\n                </div>\r\n                <br />\r\n                <div className=\"form-group\">\r\n                  <label className=\"loginText\">Password</label>\r\n                  <input\r\n                    style={{ borderRadius: \"20px\" }}\r\n                    {...register(\"password\")}\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Enter password\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <div className=\"custom-control custom-checkbox\">\r\n                    <input\r\n                      {...register(\"remember\")}\r\n                      type=\"checkbox\"\r\n                      className=\"custom-control-input\"\r\n                      id=\"customCheck1\"\r\n                    />\r\n                    <label className=\"loginText2\" htmlFor=\"customCheck1\">\r\n                      Remember me\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n\r\n                <Button variant=\"success\" type=\"submit\">\r\n                  Sign Up\r\n                </Button>\r\n                {error && (\r\n                  <p\r\n                    style={{\r\n                      color: \"red\",\r\n                      letterSpacing: \"1px\",\r\n                      marginTop: \"5px\",\r\n                    }}\r\n                  >\r\n                    input fields cannot be empty\r\n                  </p>\r\n                )}\r\n                <br />\r\n                <p className=\"loginText2\">\r\n                  Forgot,{\" \"}\r\n                  <a className=\"loginText\" href=\"#\">\r\n                    password?\r\n                  </a>\r\n                </p>\r\n              </form>\r\n            </Row>\r\n          </Container>\r\n        </div>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n"]},"metadata":{},"sourceType":"module"}